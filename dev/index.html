<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · RangeExtractor.jl</title><meta name="title" content="Home · RangeExtractor.jl"/><meta property="og:title" content="Home · RangeExtractor.jl"/><meta property="twitter:title" content="Home · RangeExtractor.jl"/><meta name="description" content="Documentation for RangeExtractor.jl."/><meta property="og:description" content="Documentation for RangeExtractor.jl."/><meta property="twitter:description" content="Documentation for RangeExtractor.jl."/><meta property="og:url" content="https://asinghvi17.github.io/RangeExtractor.jl/"/><meta property="twitter:url" content="https://asinghvi17.github.io/RangeExtractor.jl/"/><link rel="canonical" href="https://asinghvi17.github.io/RangeExtractor.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>RangeExtractor.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#What&#39;s-happening?"><span>What&#39;s happening?</span></a></li><li><a class="tocitem" href="#Inputs"><span>Inputs</span></a></li><li><a class="tocitem" href="#Processing"><span>Processing</span></a></li><li><a class="tocitem" href="#Outputs"><span>Outputs</span></a></li></ul></li><li><a class="tocitem" href="operations/">Operations</a></li><li><a class="tocitem" href="tilingstrategy/">Tiling Strategies</a></li><li><a class="tocitem" href="devdocs/">Developer Documentation</a></li><li><a class="tocitem" href="api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/asinghvi17/RangeExtractor.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/asinghvi17/RangeExtractor.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="RangeExtractor"><a class="docs-heading-anchor" href="#RangeExtractor">RangeExtractor</a><a id="RangeExtractor-1"></a><a class="docs-heading-anchor-permalink" href="#RangeExtractor" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/asinghvi17/RangeExtractor.jl">RangeExtractor</a>.</p><p>RangeExtractor is designed to efficiently process large arrays by splitting them into manageable tiles and performing operations on each tile independently. This approach is particularly useful when working with arrays that are too large to fit in memory, and for arrays where I/O is a bottleneck (e.g. S3 or cloud hosted arrays).</p><h1 id="What&#39;s-happening?"><a class="docs-heading-anchor" href="#What&#39;s-happening?">What&#39;s happening?</a><a id="What&#39;s-happening?-1"></a><a class="docs-heading-anchor-permalink" href="#What&#39;s-happening?" title="Permalink"></a></h1><h2 id="Inputs"><a class="docs-heading-anchor" href="#Inputs">Inputs</a><a id="Inputs-1"></a><a class="docs-heading-anchor-permalink" href="#Inputs" title="Permalink"></a></h2><p>The user provides us three pieces of data: </p><ul><li><code>data</code>: the array in question, that we want to extract ranges from.</li><li><code>ranges</code>: the ranges to extract from said array, as a vector of tuples of AbstractUnitRanges.</li><li><code>metadata</code>: associated metadata for each element in <code>ranges</code>.</li></ul><p>and an operation, <code>operation::AbstractTileOperation</code>, which defines what to do with the data once you have it.</p><p>The user also provides some configuration structs:</p><ul><li><a href="api/#RangeExtractor.TilingStrategy"><code>TilingStrategy</code></a>: determines how to divide the array into tiles.  <ul><li>This can be simple, naive, grid-based tiling (<a href="api/#RangeExtractor.FixedGridTiling"><code>FixedGridTiling</code></a>).</li><li>Can also be tiled by a spatial index like an STR-tree or R-tree.</li></ul></li><li><a href="api/#RangeExtractor.TileOperation"><code>TileOperation</code></a>: defines how to process the data in each tile.  <ul><li>There are two potential ways a range can interact with a tile: <ul><li>Either it is fully contained within the tile (<code>contained</code>), </li><li>or it overlaps with the tile and also other tiles (<code>shared</code>).</li></ul></li><li>The <a href="api/#RangeExtractor.TileOperation"><code>TileOperation</code></a> determines how the data from each tile is combined to form the final result.</li><li>The most generic operation, <a href="api/#RangeExtractor.TileOperation"><code>TileOperation</code></a>, allows maximal flexibility but can be slow on the compiler.   We provide specialized <a href="api/#RangeExtractor.TileOperation"><code>TileOperation</code></a>s like <a href="api/#RangeExtractor.RecombiningTileOperation"><code>RecombiningTileOperation</code></a>, which materializes each requested range into memory before applying the function.</li><li>Users are also free to implement their own tile operations, so long as they implement the <a href="api/#RangeExtractor.AbstractTileOperation"><code>AbstractTileOperation</code></a> interface.</li></ul></li></ul><p>In future, we plan to add tile iteration schemes, so that users can minimize memory or IO usage by defining a specific order to iterate over tiles.  This might involve graph algorithms or other strategies.</p><h2 id="Processing"><a class="docs-heading-anchor" href="#Processing">Processing</a><a id="Processing-1"></a><a class="docs-heading-anchor-permalink" href="#Processing" title="Permalink"></a></h2><p>First, we bin the ranges into tiles generated by the <code>TilingStrategy</code>.  This results in three dictionaries:</p><ul><li><code>contained_ranges</code>: <code>Tile → Ranges fully inside it</code>.  Maps tile indices to indices in the <code>ranges</code> vector, that are fully contained within that tile, </li><li><code>shared_ranges</code>: <code>Tile → Ranges that overlap it</code>.  Maps tile indices to indices in the <code>ranges</code> vector, that overlap with that tile and also other tiles.</li><li><code>shared_ranges_indices</code>: <code>Range → Tiles it overlaps with</code>.  Maps indices in the <code>ranges</code> vector to the tile indices that they overlap with.  This is essentially the inverse mapping of <code>shared_ranges</code>.</li></ul><p>For each tile that has data that we want, we then read it into memory, and construct a <a href="api/#RangeExtractor.TileState"><code>TileState</code></a> object.  This contains the tile data and index, the contained and shared ranges, and views of the metadata for those ranges.</p><p>Then, we apply the given <a href="api/#RangeExtractor.TileOperation"><code>TileOperation</code></a> to that state.  This puts the data into a Channel, which we then drain by a supporting asynchronous task.  While Julia is waiting on IO, that can process the data so CPU power is maximally utilized.</p><h2 id="Outputs"><a class="docs-heading-anchor" href="#Outputs">Outputs</a><a id="Outputs-1"></a><a class="docs-heading-anchor-permalink" href="#Outputs" title="Permalink"></a></h2><p>Finally, we combine the results from each tile into a final result vector, and return it.</p><p>Shared tile results are usually eagerly combined to reduce memory strain.  All results are written to the vector in the correct fashion.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>For a concrete example, refer to the README!</p></div></div></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="operations/">Operations »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Thursday 21 November 2024 20:54">Thursday 21 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
